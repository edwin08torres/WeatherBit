<nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom" aria-label="Barra principal">
  <div class="container">
    <a class="navbar-brand fw-semibold" routerLink="/">Weather dashboard</a>

    <button
      class="navbar-toggler"
      type="button"
      (click)="navOpen = !navOpen"
      [attr.aria-expanded]="navOpen"
      aria-label="Alternar navegaci√≥n"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" [class.show]="navOpen">
      <ul class="navbar-nav align-items-lg-center mb-2 mb-lg-0 gap-lg-3">
        <li class="nav-item">
          <button
            type="button"
            class="btn btn-outline-secondary btn-sm d-flex align-items-center gap-2"
            (click)="toggleTheme()"
            [attr.aria-pressed]="currentTheme === 'dark'"
          >
            <span aria-hidden="true">
              {{ currentTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è' }}
            </span>
            <span class="d-none d-sm-inline">
              {{ currentTheme === 'dark' ? 'Modo oscuro' : 'Modo claro' }}
            </span>
          </button>
        </li>

        <li class="nav-item dropdown" [class.show]="settingsOpen">
          <button
            type="button"
            class="btn btn-link nav-link dropdown-toggle px-2"
            (click)="toggleSettings()"
            [attr.aria-expanded]="settingsOpen"
            id="settingsDropdown"
          >
            Opciones
          </button>
          <ul
            class="dropdown-menu dropdown-menu-end dropdown-menu-lg-end my-2"
            [class.show]="settingsOpen"
            aria-labelledby="settingsDropdown"
          >
            <li class="px-3">
              <label class="form-label small mb-1" for="ttlSelect"> Duraci√≥n de cach√© </label>
              <select
                id="ttlSelect"
                class="form-select form-select-sm"
                [(ngModel)]="ttl"
                (ngModelChange)="onTtlChange($event)"
              >
                <option [ngValue]="30">30 minutos</option>
                <option [ngValue]="60">1 hora</option>
                <option [ngValue]="120">2 horas (por defecto)</option>
                <option [ngValue]="240">4 horas</option>
              </select>
              <p class="text-muted small mt-1 mb-0">
                Controla cu√°nto tiempo se reutilizan los datos de la API guardados en el navegador.
              </p>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <button type="button" class="dropdown-item" (click)="clearCache()">
                Vaciar cach√© meteorol√≥gica
              </button>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
